# county_subsidy_retrieval
This repository contains all the files related to retrieving US subsidy data from Subsidy Tracker, a watchdog organization that collects and organizes data on subsidies. I started this project because I wanted to study whether and how local US government use subsidies to mitigate the economic threat posed by globalization. The literature on this topic in political science is surprisingly bare, especially given how important globalization, immigration, industrial decline, and the working class have recently been in American politics. I thought it would be useful to study whether local governments distribute subsidies to dying firms in import-competing industries (e.g., manufacturing), or to thriving firms in export-competing industries (e.g., tech, science, advanced manufacturing). This is not only an interesting question as a matter of political economy (e.g., who produces what and who gets what), but also as a matter of helping governments figure out a better strategy for distributing the taxpayer's resources.

This repository only exists only Subsidy Tracker's data is hard to get. They graciously make their data publicly available but, understandably, they also limit how much data you can download at a time for the sake of their servers. Your choices for the data are to manually download 100 observations lots of times, purchase access and get their entire dataset, or write a web scraper to make infrequent pulls of their data while making sure to not flood their servers. I went for the latter option. The files in this repository contain the .R files I wrote to do the web scraping. They are organized into "web_scraping" and "subsidy_cleaning" folders. The web_scraping folder contains two .R scraping files: "subsidy_scrape_basic_data.R" and "subsidy_scrape_detailed_data.R". The basic data .R file is for gathering subsidy-level from Subsidy Tracker; the detailed data .R file is for gathering firm-level. They make heavy use of the RSelenium and haven packages in R. Since I am not a programmer, they are probably riddled with inefficiencies at either the code level or the concept/architecture level. But, they get the job done.

## Datasets

The folders in this repo also contain the datasets I scraped and cleaned. In the web_scraping folder, you can find the large .RData objects I used to store my scraping results. There are four of them, each reflecting scraping results from a single iteration of the web scraper (which took quite a long time to finish). Most people will probably not find value in these objects. However, you are free to download and explore them or run the scraper yourself to prove that you can reproduce them.

Most people will find the subsidy_cleaning folder more useful. This folder contains the .R files I used to clean the .RData objects, as well as different versions of the subsidy dataset. I included five different datasets: (1) "all_subsidy_cases_including_uncleaned.csv", which is just the contents of the .RData objects after being row-binded (very messy); (2) "all_subsidies_after_2000.csv", which is the contents the .RData files after I cleaned county names, character and numeric variable problems, and other issues; (3) "county_subsidies_after_2000.csv", which is just a county-level dataset with the total dollar value of subsidies that the firms in a county received after the year 2000; (4) "county_subsidies_by_major_industry_after_2000.csv", which is the same as (3) but at the county-major industry level; and (5) "county_subsidies_by_sixdigit_naics_after_2000.csv", which is the same as (3) but at the county-naics6 level.

## CAVEAT

There is quite a large amount of missing information on Subsidy Tracker's website. I imagine that manually collecting data on subsidies is not only a burdensome and time-consuming chore, but also fraught with data difficulties. For more than half of the subsidy data, there is no county listed; for many of the counties that are listed, they are either called "multiple counties" or include several counties. I did my best to clean up this information without making errors, but I inevitably had to drop a lot of information. This is why I made the "all_subsidy_cases_including_uncleaned.csv" available - if someone wants to take a crack at it, please do.

There is also the issue of incomplete NAICS-6 data. In theory, each government-to-firm subsidy should have a firm on the receiving end. That firm has a NAICS-6 identifier(s) based on what it makes/sells. Along with data on the county and subsidy amount, this is probably the most important variable. However, it is also the most incomplete. The vast, vast majority of the subsidies are missing NAICS-6 information. If anyone is up to task of manually searching for the firms listed in the dataset and finding their NAICS-6 category, please give it a shot. For now, I'm leaving the NAICS-6 field just as it came.






